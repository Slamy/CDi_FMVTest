# FMA Host playback State Analysis for Playback Delay and Event Timing

Plays a very short MPEG file, analyzes the driver state and prints the results after 2 playbacks to avoid impact on the timing.

It also prints a single character on MA_TRIG_DEC to measure the time relation / playback delay to
the audio waveform.

![Left channel UART, right channel audio out](phase_relation.png)

The selected area is 16ms. It should be noted that `stereo_sine.mpg` has a silence of 11ms, probably due to the encoding of ffmpeg.
Therefore, the decoding delay is insignificant and MA_TRIG_DEC can be used to detect the output
of the audio on a software level.

210/05

     0  000cbb01 00000000 00d0c61c
     1  00000166 00000000 00d0cf1c
     2  00004cff 0000c014 00d0cf1c
     3  00000467 0000c004 00d0cf1c
     4  000004bf 0000c004 00d0cf1c
     5  00000152 00000000 00d0d81c
     6  00000358 0000c004 00d0d81c
     7  0000045c 0000c004 00d0d81c
     8  0000046e 0000c004 00d0d81c
     9  000004c3 0000c004 00d0d81c
    10  000004ab 0000c004 00d0d81c
    11  00000459 0000c004 00d0d81c
    12  000004c1 0000c004 00d0d81c
    13  00000499 0000c004 00d0d81c
    14  00000496 0000c004 00d0d81c
    15  0000049e 0000c004 00d0d81c
    16  00000497 0000c004 00d0d81c
    17  000000f2 00000000 00d0e11c
    18  00000375 0000c004 00d0e11c
    19  00000498 0000c004 00d0e11c
    20  00000498 0000c004 00d0e11c
    21  00000497 0000c004 00d0e11c
    22  00000498 0000c004 00d0e11c
    23  000004c2 0000c004 00d0e11c
    24  0000046d 0000c004 00d0e11c
    25  000004d0 0000c004 00d0e11c
    26  0000048a 0000c004 00d0e11c
    27  00000498 0000c004 00d0e11c
    28  00000495 0000c004 00d0e11c
    29  0000046e 0000c004 00d0e11c
    30  000004c5 0000c004 00d0e11c
    31  00000494 0000c004 00d0e11c
    32  00000499 0000c004 00d0e11c
    33  000004cf 0000c004 00d0e11c
    34  00000460 0000c004 00d0e11c
    35  00000497 0000c004 00d0e11c
    36  00000498 0000c004 00d0e11c
    37  00000498 0000c004 00d0e11c
    38  00000496 0000c004 00d0e11c
    39  00000498 0000c004 00d0e11c
    40  00000498 0000c004 00d0e11c
    41  00000497 0000c004 00d0e11c
    42  0000049f 0000c004 00d0e11c
    43  00000425 0000c008 00d0e11c
    44  000002e2 00000000 00d0c61c
    45  0000015a 00000000 00d0cf1c
    46  00004cf2 0000c014 00d0cf1c
    47  0000047f 0000c004 00d0cf1c
    48  00000436 0000c004 00d0cf1c
    49  000001da 00000000 00d0d81c
    50  0000035a 0000c004 00d0d81c
    51  00000464 0000c004 00d0d81c
    52  00000492 0000c004 00d0d81c
    53  0000046b 0000c004 00d0d81c
    54  00000498 0000c004 00d0d81c
    55  000004c3 0000c004 00d0d81c
    56  0000049d 0000c004 00d0d81c
    57  00000491 0000c004 00d0d81c
    58  0000046d 0000c004 00d0d81c
    59  000004c2 0000c004 00d0d81c
    60  00000437 0000c004 00d0d81c
    61  00000156 00000000 00d0e11c
    62  000003af 0000c004 00d0e11c
    63  0000048c 0000c004 00d0e11c
    64  000004d0 0000c004 00d0e11c
    65  0000045f 0000c004 00d0e11c
    66  00000497 0000c004 00d0e11c
    67  00000497 0000c004 00d0e11c
    68  00000499 0000c004 00d0e11c
    69  000004a4 0000c004 00d0e11c
    70  0000048f 0000c004 00d0e11c
    71  00000494 0000c004 00d0e11c
    72  00000494 0000c004 00d0e11c
    73  0000049a 0000c004 00d0e11c
    74  00000493 0000c004 00d0e11c
    75  0000049b 0000c004 00d0e11c
    76  00000499 0000c004 00d0e11c
    77  000004cf 0000c004 00d0e11c
    78  0000045f 0000c004 00d0e11c
    79  00000498 0000c004 00d0e11c
    80  00000496 0000c004 00d0e11c
    81  0000049a 0000c004 00d0e11c
    82  00000496 0000c004 00d0e11c
    83  0000049f 0000c004 00d0e11c
    84  00000491 0000c004 00d0e11c
    85  00000496 0000c004 00d0e11c
    86  00000498 0000c004 00d0e11c
    87  000004b1 0000c008 00d0e11c
